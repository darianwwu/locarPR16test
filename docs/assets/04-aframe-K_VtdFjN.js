import"./modulepreload-polyfill-B5Qt9EMX.js";import"./locar-aframe.es-B2Kf3FYL.js";import"./locar.es-DTthYILY.js";const o=e=>document.querySelector(e),a=e=>{const t=o("#status");t&&(t.textContent=e)};function i(e){return e.hasLoaded?Promise.resolve():new Promise(t=>e.addEventListener("loaded",t,{once:!0}))}async function s(){const e=async(t,n)=>{try{if(t&&typeof t.requestPermission=="function"){const r=await t.requestPermission();return console.log(n,r),r}}catch(r){console.warn(n,r)}};await e(window.DeviceMotionEvent,"DeviceMotionEvent"),await e(window.DeviceOrientationEvent,"DeviceOrientationEvent")}async function c(){const e=o("a-scene"),t=o("a-camera");a("Warte auf Szene …"),await i(e),a("Aktiviere Kamera …"),e.setAttribute("locar-webcam",""),t.setAttribute("locar-camera","simulateLatitude: 51.93; simulateLongitude: 7.65"),e.addEventListener("renderstart",()=>{console.log("A-Frame renderstart"),a("Renderer gestartet")},{once:!0}),e.addEventListener("camera-set-active",()=>{console.log("Kamera aktiv"),a("Kamera aktiv")},{once:!0}),setTimeout(()=>{a("Wenn nichts passiert: Kamera/Sensor-Zugriff in iOS erlauben oder in Safari-Konsole nach Fehlern schauen (Develop ▶︎ iPhone).")},6e3)}window.addEventListener("DOMContentLoaded",()=>{var e;(e=o("#enableSensors"))==null||e.addEventListener("click",async()=>{var t;try{a("Hole iOS-Permissions …"),await s(),await c(),(t=o("#gate"))==null||t.remove()}catch(n){console.error(n),a("Fehler: "+((n==null?void 0:n.message)||n))}})});
