import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */import{P as m,W as u,S as g,b as p,r as f,c as h,B as D,M as x,a as G}from"./locar.es-Cq9R6IxD.js";const n=new m(80,window.innerWidth/window.innerHeight,.001,1e3),i=new u({canvas:document.getElementById("glscene")});i.setSize(window.innerWidth,window.innerHeight);const r=new g,t=new p(r,n);window.addEventListener("resize",e=>{i.setSize(window.innerWidth,window.innerHeight),n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix()});const c=new f({idealWidth:1024,idealHeight:768},null);c.on("webcamstarted",e=>{r.background=e.texture});c.on("webcamerror",e=>{alert(`Webcam error: code ${e.code} message ${e.message}`)});let s=!0,o=new h(n);o.on("deviceorientationgranted",e=>{e.target.connect()});o.on("deviceorientationerror",e=>{alert(`Device orientation error: code ${e.code} message ${e.message}`)});o.init();t.on("gpserror",e=>{alert(`GPS error: ${e.code}`)});t.on("gpsupdate",e=>{if(s){alert(`Got the initial location: longitude ${e.position.coords.longitude}, latitude ${e.position.coords.latitude}`);const d=[{latDis:5e-4,lonDis:0,colour:16711680},{latDis:-5e-4,lonDis:0,colour:16776960},{latDis:0,lonDis:-5e-4,colour:65535},{latDis:0,lonDis:5e-4,colour:65280}],l=new D(10,10,10);for(const a of d){const w=new x(l,new G({color:a.colour}));t.add(w,e.position.coords.longitude+a.lonDis,e.position.coords.latitude+a.latDis)}s=!1}});t.startGps();document.getElementById("setFakeLoc").addEventListener("click",e=>{alert("Using fake input GPS, not real GPS location"),t.stopGps(),t.fakeGps(parseFloat(document.getElementById("fakeLon").value),parseFloat(document.getElementById("fakeLat").value))});i.setAnimationLoop(b);function b(){o==null||o.update(),i.render(r,n)}
