import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */import{P as u,W as w,S as f,o as g,b as m,r as h,B as p,M as D,a as x}from"./locar.es-C46cmtya.js";const o=new u(80,window.innerWidth/window.innerHeight,.001,1e3),i=new w({canvas:document.getElementById("glscene")});i.setSize(window.innerWidth,window.innerHeight);const s=new f,n=new g(s,o);window.addEventListener("resize",e=>{i.setSize(window.innerWidth,window.innerHeight),o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix()});new m({idealWidth:1024,idealHeight:768,onVideoStarted:e=>{s.background=e}},null);let d=!0,a=new h(o);n.on("gpsupdate",(e,L)=>{if(d){alert(`Got the initial location: longitude ${e.coords.longitude}, latitude ${e.coords.latitude}`);const r=[{latDis:5e-4,lonDis:0,colour:16711680},{latDis:-5e-4,lonDis:0,colour:16776960},{latDis:0,lonDis:-5e-4,colour:65535},{latDis:0,lonDis:5e-4,colour:65280}],l=new p(10,10,10);for(const t of r){const c=new D(l,new x({color:t.colour}));console.log(`adding at ${e.coords.longitude+t.lonDis},${e.coords.latitude+t.latDis}`),n.add(c,e.coords.longitude+t.lonDis,e.coords.latitude+t.latDis)}d=!1}});n.startGps();document.getElementById("setFakeLoc").addEventListener("click",e=>{alert("Using fake input GPS, not real GPS location"),n.stopGps(),n.fakeGps(parseFloat(document.getElementById("fakeLon").value),parseFloat(document.getElementById("fakeLat").value))});i.setAnimationLoop(G);function G(){a==null||a.update(),i.render(s,o)}
